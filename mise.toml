[tools]
uv = "latest"

[tasks.test]
description = "Run unit tests"
run = "uv run pytest tests/"

[tasks."test:integration"]
description = "Run integration tests (requires MUSIC_ASSISTANT_URL)"
run = "uv run pytest integration_tests/"

[tasks.lint]
description = "Run ruff linter"
run = "uv run ruff check ."

[tasks.lint-fix]
description = "Run ruff linter with auto-fix"
run = "uv run ruff check . --fix"

[tasks.format]
description = "Format code with ruff"
run = "uv run ruff format ."

[tasks.format-check]
description = "Check code formatting"
run = "uv run ruff format . --check"

[tasks.typecheck]
description = "Run ty type checker"
run = "uv run ty check src"

[tasks.check]
description = "Run all checks (lint, format, typecheck, test)"
depends = ["lint", "format-check", "typecheck", "test"]
